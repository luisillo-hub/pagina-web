<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrarse</title>
    <link rel="stylesheet" href="styles.css">
    <script src="comprar.js"></script>
</head>
<body onload="mostrarMenu()">
    <header>
       
        <div id="menuContainer">
            <!-- <script>mostrarMenu()</script> -->
        </div>
    </header>
<main>
    <div style="display: flex;">
    <div class="registro">
        <h2>Formulario de Registro</h2>
        <form id="registrationForm" onsubmit="guardarDatos(event)">
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" required>
<br>
            <label for="email">Correo Electrónico:</label>
            <input type="email" id="email" name="email" required>
<br>
            <label for="telefono">Número de Teléfono:</label>
            <input type="tel" id="telefono" name="telefono" required>
<br>
            <label for="direccion">Dirección:</label>
            <input type="text" id="direccion" name="direccion" required>
<br>
            <label for="password">Contraseña:</label>
            <input type="password" id="password" name="password" required>
<br>
            <label for="confirm-password">Confirmar Contraseña:</label>
            <input type="password" id="confirm-password" name="confirm-password" required>
<br>
            <button id="comprar-button" onclick="window.location.href='registrarse.html'" type="submit">Registrarse</button>
            <button id="limpiar-button" onclick="window.location.href='registro-completo.html'">Ir a Registros</button>
        </form>
    </div>
    <div style="padding: 50px;"><img src="registrarse.jpg" height="500px" width="700px"></div>
</div>
</main>
<footer>
    <p>&copy; 2024 Droguería XYZ. Todos los derechos reservados.</p>
    <p>Contacto: info@farmacia.com</p>
    <p>Teléfono: 123-456-7890</p>
</footer>
<script>
function guardarDatos(event) {
    event.preventDefault(); // Prevent the default form submission

    // Collect form data
    const nombre = document.getElementById('nombre').value;
    const email = document.getElementById('email').value;
    const telefono = document.getElementById('telefono').value;
    const direccion = document.getElementById('direccion').value;
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirm-password').value;

    // Check if passwords match
    if (password !== confirmPassword) {
        alert('Las contraseñas no coinciden. Por favor, inténtelo de nuevo.'); // Error message
        return; // Stop the function if passwords do not match
    }

    // Retrieve existing user data from local storage
    const existingUsers = JSON.parse(localStorage.getItem('userData')) || [];
    const oneUser = JSON.parse(localStorage.getItem('oneuserData')) || [];

    // Create a new user object
    const newUser = {
        nombre,
        email,
        telefono,
        direccion,
        password
    };

    // Add the new user to the existing users array
    oneUser.push(newUser);
    existingUsers.push(newUser);

    // Save the updated users array back to local storage
    localStorage.setItem('userData', JSON.stringify(existingUsers));
    localStorage.setItem('oneuserData', JSON.stringify(oneUser));
    // Optionally, you can redirect or show a success message
    alert('Registro exitoso!');
    
}
</script>
</body>
</html>
